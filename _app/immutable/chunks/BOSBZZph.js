import{ae as O,ad as S,Q as q,au as L,aW as z,E as M,aX as P,aY as U,am as W,aZ as X,a_ as j,ac as y,L as k,X as G,a$ as K,b0 as Q}from"./CdW2wo26.js";import{b as Y,c as Z}from"./CQoQAeYi.js";function A(t){var r=q,i=L;O(null),S(null);try{return t()}finally{O(r),S(i)}}function at(t,r,i,n=i){t.addEventListener(r,()=>A(i));const a=t.__on_r;a?t.__on_r=()=>{a(),n(!0)}:t.__on_r=()=>n(!0),Y()}const D=()=>performance.now(),l={tick:t=>requestAnimationFrame(t),now:()=>D(),tasks:new Set};function $(){const t=l.now();l.tasks.forEach(r=>{r.c(t)||(l.tasks.delete(r),r.f())}),l.tasks.size!==0&&l.tick($)}function H(t){let r;return l.tasks.size===0&&l.tick($),{promise:new Promise(i=>{l.tasks.add(r={c:t,f:i})}),abort(){l.tasks.delete(r)}}}function E(t,r){A(()=>{t.dispatchEvent(new CustomEvent(r))})}function J(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const r=t.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function B(t){const r={},i=t.split(";");for(const n of i){const[a,o]=n.split(":");if(!a||o===void 0)break;const s=J(a.trim());r[s]=o.trim()}return r}const V=t=>t;function it(t,r,i){var n=Z,a,o,s,v=null;n.a??={element:t,measure(){a=this.element.getBoundingClientRect()},apply(){if(s?.abort(),o=this.element.getBoundingClientRect(),a.left!==o.left||a.right!==o.right||a.top!==o.top||a.bottom!==o.bottom){const u=r()(this.element,{from:a,to:o},i?.());s=C(this.element,u,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!t.getAnimations().length){var{position:u,width:p,height:h}=getComputedStyle(t);if(u!=="absolute"&&u!=="fixed"){var e=t.style;v={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=p,e.height=h;var f=t.getBoundingClientRect();if(a.left!==f.left||a.top!==f.top){var _=`translate(${a.left-f.left}px, ${a.top-f.top}px)`;e.transform=e.transform?`${e.transform} ${_}`:_}}}},unfix(){if(v){var u=t.style;u.position=v.position,u.width=v.width,u.height=v.height,u.transform=v.transform}}},n.a.element=t}function nt(t,r,i,n){var a=(t&K)!==0,o=(t&Q)!==0,s=a&&o,v=(t&X)!==0,u=s?"both":a?"in":"out",p,h=r.inert,e=r.style.overflow,f,_;function g(){return A(()=>p??=i()(r,n?.()??{},{direction:u}))}var c={is_global:v,in(){if(r.inert=h,!a){_?.abort(),_?.reset?.();return}o||f?.abort(),E(r,"introstart"),f=C(r,g(),_,1,()=>{E(r,"introend"),f?.abort(),f=p=void 0,r.style.overflow=e})},out(b){if(!o){b?.(),p=void 0;return}r.inert=!0,E(r,"outrostart"),_=C(r,g(),f,0,()=>{E(r,"outroend"),b?.()})},stop:()=>{f?.abort(),_?.abort()}},m=L;if((m.transitions??=[]).push(c),a&&z){var w=v;if(!w){for(var d=m.parent;d&&(d.f&M)!==0;)for(;(d=d.parent)&&(d.f&P)===0;);w=!d||(d.f&U)!==0}w&&W(()=>{G(()=>c.in())})}}function C(t,r,i,n,a){var o=n===1;if(j(r)){var s,v=!1;return y(()=>{if(!v){var m=r({direction:o?"in":"out"});s=C(t,m,i,n,a)}}),{abort:()=>{v=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(i?.deactivate(),!r?.duration)return a(),{abort:k,deactivate:k,reset:k,t:()=>n};const{delay:u=0,css:p,tick:h,easing:e=V}=r;var f=[];if(o&&i===void 0&&(h&&h(0,1),p)){var _=B(p(0,1));f.push(_,_)}var g=()=>1-n,c=t.animate(f,{duration:u,fill:"forwards"});return c.onfinish=()=>{c.cancel();var m=i?.t()??1-n;i?.abort();var w=n-m,d=r.duration*Math.abs(w),b=[];if(d>0){var R=!1;if(p)for(var F=Math.ceil(d/16.666666666666668),N=0;N<=F;N+=1){var x=m+w*e(N/F),I=B(p(x,1-x));b.push(I),R||=I.overflow==="hidden"}R&&(t.style.overflow="hidden"),g=()=>{var T=c.currentTime;return m+w*e(T/d)},h&&H(()=>{if(c.playState!=="running")return!1;var T=g();return h(T,1-T),!0})}c=t.animate(b,{duration:d,fill:"forwards"}),c.onfinish=()=>{g=()=>n,h?.(n,1-n),a()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=k)},deactivate:()=>{a=k},reset:()=>{n===0&&h?.(1,0)},t:()=>g()}}export{it as a,at as l,nt as t};
